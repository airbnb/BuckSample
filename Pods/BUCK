load("//Config:buck_rule_macros.bzl", "apple_lib", "apple_third_party_lib", "apple_cxx_third_party_library", "first_party_framework")

apple_third_party_lib(
    name = "CryptoSwift",
    srcs = glob([
        "CryptoSwift/**/*.swift",
    ]),
)

apple_third_party_lib(
    name = "OHHTTPStubs",
    exported_headers = glob([
        "OHHTTPStubs/**/*.h",
    ]),
    srcs = glob([
        "OHHTTPStubs/**/*.m",
    ]),
)

first_party_framework(
    name = "PromiseKit",
    exported_headers = glob([
        "PromiseKit/**/*.h",
    ], exclude = [
        "PromiseKit/AnyPromise+Private.h",
    ]),
    headers = glob([
        "PromiseKit/**/*.h",
    ]),
    alernate_sources = glob([
        "PromiseKit/**/*.m",
        "PromiseKit/**/*.swift",
    ]),
    alernate_info_plist = 'PromiseKit/Info.plist',
    has_tests = False,
)

apple_cxx_third_party_library(
    name = "Bugsnag",
    exported_headers = glob([
        "Bugsnag/**/BSG_KSCrashReportWriter.h",
        "Bugsnag/**/Bugsnag.h",
        "Bugsnag/**/BugsnagBreadcrumb.h",
        "Bugsnag/**/BugsnagConfiguration.h",
        "Bugsnag/**/BugsnagCrashReport.h",
        "Bugsnag/**/BugsnagMetaData.h",
    ]),
    headers = glob([
        "Bugsnag/**/*.h",
    ]),
    srcs = glob([
        "Bugsnag/**/*.c",
        "Bugsnag/**/*.m",
        "Bugsnag/**/*.mm",
    ]),
)
